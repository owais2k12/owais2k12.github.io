I"Å<p>memcachedæœåŠ¡å®‰è£…ï¼š</p>

<p>æºç åŒ…ï¼šmemcached-1.4.21.tar.gz</p>

<p>ä¾èµ–åŒ…ï¼šlibevent-2.0.20-stable.tar.gz</p>

<p>libeventæ˜¯memcachedçš„åŸºæœ¬åº“</p>

<p>å®‰è£…é¦–å…ˆç¼–è¯‘å®‰è£…libeventï¼Œè¦æ±‚ä¸ºå®‰è£…ä¸‰éƒ¨æ›²</p>

<p>å®‰è£…memcachedåœ¨configureæ—¶ï¼Œè‹¥éœ€è¦å®‰è£…å¤šä¸ªmemcachedï¼Œå¢åŠ è·¯å¾„å‚æ•°å³å¯ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./configure â€“prefix=/usr/local/mem1/
</code></pre></div></div>

<p>å¯åŠ¨æ–¹å¼ï¼š</p>

<p>åœ¨binç›®å½•ä¸‹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./memcached -d -c 4096 -m 512 -u root -p 11212
</code></pre></div></div>

<ul>
  <li>
    <p>-dè¡¨ç¤ºä»¥åå°å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨</p>
  </li>
  <li>
    <p>-cè¡¨ç¤ºæœ€å¤§è¿æ¥æ•°</p>
  </li>
  <li>
    <p>-mè¡¨ç¤ºä½¿ç”¨å†…å­˜å¤§å°ï¼Œå•ä½ä¸ºM</p>
  </li>
  <li>
    <p>-uè¡¨ç¤ºä»¥rootç”¨æˆ·å¯åŠ¨</p>
  </li>
  <li>
    <p>-pè¡¨ç¤ºç›‘å¬ç«¯å£å·</p>
  </li>
</ul>

<p>å®‰è£…memcacheæ—¶ï¼Œéœ€è¦å»ºç«‹æ–‡ä»¶ç´¢å¼•æˆ–è€…è¯´æ–‡ä»¶è¿æ¥ï¼ˆlinkï¼‰ï¼Œç±»ä¼¼windowsä¸‹çš„å¿«æ·æ–¹å¼</p>

<p>å¯åŠ¨æœåŠ¡æ—¶å‡ºç° <strong>error while loading shared libraries: libevent-2.0.so.5: cannot open shared object file: No such file or directory</strong></p>

<p>è§£å†³åŠæ³•ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>whereis libevent-2.0.so.5
</code></pre></div></div>

<p>libevent-2.0.so.5: /usr/local/lib/libevent-2.0.so.5</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ldd /usr/local/bin/memcached ï¼ˆlddæŒ‡ä»¤ä¸ç†Ÿæ‚‰çš„å»æŸ¥çœ‹ä¸‹ï¼‰
</code></pre></div></div>

<p>libevent-2.0.so.5 =&gt; not found ï¼ˆæ²¡æœ‰æ‰¾åˆ°è¯¥æ–‡ä»¶ï¼‰</p>

<p>libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00002b83fce0e000)</p>

<p>libc.so.6 =&gt; /lib64/libc.so.6 (0x00002b83fd029000)</p>

<p>librt.so.1 =&gt; /lib64/librt.so.1 (0x00002b83fd381000)</p>

<p>/lib64/ld-linux-x86-64.so.2 (0x00002b83fc9b0000)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LD_DEBUG=libs ./memcached -v
</code></pre></div></div>

<p>LD_DEBUG=libs /usr/local/mem1/bin/memcached -v
æ‰¾åˆ°é»˜è®¤è·¯å¾„ /usr/lib/</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo ln -s /usr/lib/libevent-2.0.so.5 /usr/lib64/libevent-2.0.so.5
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo ldd /usr/local/bin/memcached
</code></pre></div></div>

<p>libevent-2.0.so.5 =&gt; /usr/lib64/libevent-2.0.so.5 (0x00002b83fcbcd000)</p>

<p>libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00002b83fce0e000)</p>

<p>libc.so.6 =&gt; /lib64/libc.so.6 (0x00002b83fd029000)</p>

<p>librt.so.1 =&gt; /lib64/librt.so.1 (0x00002b83fd381000)</p>

<p>/lib64/ld-linux-x86-64.so.2 (0x00002b83fc9b0000)</p>
:ET